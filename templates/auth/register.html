{% extends 'auth/auth_layout.html' %}
{% block title %} {{ title }} {% endblock %}
{% block content%}

<div class="register">
	{% include "includes/alert.html" %}
    <h1>Register</h1>
    <div class="links">
        <a href="{{ url_for('login') }}">Login</a>
        <a href="{{ url_for('register') }}" class="active">Register</a>
    </div>
    <form action="{{ url_for('register') }}" method="post" autocomplete="off">

        <label for="username">
            <i class="fas fa-user"></i>
        </label>
        <input type="text" name="username" placeholder="Username" id="username" required>



        <label for="password">
            <i class="fas fa-lock"></i>
        </label>
        <input type="password" name="password" placeholder="Password" id="password" required>



        <label for="confirm_password">
            <i class="fas fa-lock"></i>
        </label>
        <div class="input-container">
            <input type="password" name="confirm_password" placeholder="Confirm Password" id="confirm_password" required>
            <span id="password-feedback" class="feedback-icon" style="display: none;">
                <i class="fas fa-check-circle"></i>
            </span>
        </div>

        <label for="email">
            <i class="fas fa-envelope"></i>
        </label>
        <input type="email" name="email" placeholder="Email" id="email" required>


        <div class="msg">{{ msg }}</div>
        <input type="submit" value="Register">
    </form>

    <script>
        const passwordInput = document.getElementById('password');
        const confirmPasswordInput = document.getElementById('confirm_password');
        const feedback = document.getElementById('password-feedback');

        confirmPasswordInput.addEventListener('input', function() {
            if (confirmPasswordInput.value === passwordInput.value && confirmPasswordInput.value !== '') {
                feedback.style.display = 'inline'; // 显示勾选图标
            } else {
                feedback.style.display = 'none'; // 隐藏勾选图标
            }
        });
    </script>

</div>
{% endblock %}